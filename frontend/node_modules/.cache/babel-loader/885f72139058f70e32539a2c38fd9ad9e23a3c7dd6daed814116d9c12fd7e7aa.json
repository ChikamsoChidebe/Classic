{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\nconst API_URL = 'http://localhost:5000/api';\nexport const createOrder = createAsyncThunk('orders/createOrder', async (orderData, {\n  rejectWithValue\n}) => {\n  try {\n    const token = localStorage.getItem('token');\n    const response = await axios.post(`${API_URL}/orders`, orderData, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    toast.success('Order placed successfully!');\n    return response.data;\n  } catch (error) {\n    var _error$response, _error$response$data;\n    const message = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Order failed';\n    toast.error(message);\n    return rejectWithValue(message);\n  }\n});\nexport const getOrders = createAsyncThunk('orders/getOrders', async (params = {}) => {\n  const token = localStorage.getItem('token');\n  const response = await axios.get(`${API_URL}/orders/my-orders`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    },\n    params\n  });\n  return response.data;\n});\nconst orderSlice = createSlice({\n  name: 'orders',\n  initialState: {\n    orders: [],\n    currentOrder: null,\n    isLoading: false,\n    error: null\n  },\n  extraReducers: builder => {\n    builder.addCase(createOrder.pending, state => {\n      state.isLoading = true;\n    }).addCase(createOrder.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.currentOrder = action.payload.data;\n    }).addCase(createOrder.rejected, (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    }).addCase(getOrders.fulfilled, (state, action) => {\n      state.orders = action.payload.data.orders;\n    });\n  }\n});\nexport default orderSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","toast","API_URL","createOrder","orderData","rejectWithValue","token","localStorage","getItem","response","post","headers","Authorization","success","data","error","_error$response","_error$response$data","message","getOrders","params","get","orderSlice","name","initialState","orders","currentOrder","isLoading","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","reducer"],"sources":["C:/Users/HP/Desktop/Classic/frontend/src/store/slices/orderSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\n\nconst API_URL = 'http://localhost:5000/api';\n\nexport const createOrder = createAsyncThunk('orders/createOrder', async (orderData, { rejectWithValue }) => {\n  try {\n    const token = localStorage.getItem('token');\n    const response = await axios.post(`${API_URL}/orders`, orderData, {\n      headers: { Authorization: `Bearer ${token}` }\n    });\n    toast.success('Order placed successfully!');\n    return response.data;\n  } catch (error) {\n    const message = error.response?.data?.message || 'Order failed';\n    toast.error(message);\n    return rejectWithValue(message);\n  }\n});\n\nexport const getOrders = createAsyncThunk('orders/getOrders', async (params = {}) => {\n  const token = localStorage.getItem('token');\n  const response = await axios.get(`${API_URL}/orders/my-orders`, {\n    headers: { Authorization: `Bearer ${token}` },\n    params\n  });\n  return response.data;\n});\n\nconst orderSlice = createSlice({\n  name: 'orders',\n  initialState: {\n    orders: [],\n    currentOrder: null,\n    isLoading: false,\n    error: null,\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(createOrder.pending, (state) => { state.isLoading = true; })\n      .addCase(createOrder.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.currentOrder = action.payload.data;\n      })\n      .addCase(createOrder.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload;\n      })\n      .addCase(getOrders.fulfilled, (state, action) => {\n        state.orders = action.payload.data.orders;\n      });\n  },\n});\n\nexport default orderSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,iBAAiB;AAEnC,MAAMC,OAAO,GAAG,2BAA2B;AAE3C,OAAO,MAAMC,WAAW,GAAGJ,gBAAgB,CAAC,oBAAoB,EAAE,OAAOK,SAAS,EAAE;EAAEC;AAAgB,CAAC,KAAK;EAC1G,IAAI;IACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAI,CAAC,GAAGR,OAAO,SAAS,EAAEE,SAAS,EAAE;MAChEO,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUN,KAAK;MAAG;IAC9C,CAAC,CAAC;IACFL,KAAK,CAACY,OAAO,CAAC,4BAA4B,CAAC;IAC3C,OAAOJ,QAAQ,CAACK,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAC,eAAA,EAAAC,oBAAA;IACd,MAAMC,OAAO,GAAG,EAAAF,eAAA,GAAAD,KAAK,CAACN,QAAQ,cAAAO,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBF,IAAI,cAAAG,oBAAA,uBAApBA,oBAAA,CAAsBC,OAAO,KAAI,cAAc;IAC/DjB,KAAK,CAACc,KAAK,CAACG,OAAO,CAAC;IACpB,OAAOb,eAAe,CAACa,OAAO,CAAC;EACjC;AACF,CAAC,CAAC;AAEF,OAAO,MAAMC,SAAS,GAAGpB,gBAAgB,CAAC,kBAAkB,EAAE,OAAOqB,MAAM,GAAG,CAAC,CAAC,KAAK;EACnF,MAAMd,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACqB,GAAG,CAAC,GAAGnB,OAAO,mBAAmB,EAAE;IAC9DS,OAAO,EAAE;MAAEC,aAAa,EAAE,UAAUN,KAAK;IAAG,CAAC;IAC7Cc;EACF,CAAC,CAAC;EACF,OAAOX,QAAQ,CAACK,IAAI;AACtB,CAAC,CAAC;AAEF,MAAMQ,UAAU,GAAGxB,WAAW,CAAC;EAC7ByB,IAAI,EAAE,QAAQ;EACdC,YAAY,EAAE;IACZC,MAAM,EAAE,EAAE;IACVC,YAAY,EAAE,IAAI;IAClBC,SAAS,EAAE,KAAK;IAChBZ,KAAK,EAAE;EACT,CAAC;EACDa,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAAC3B,WAAW,CAAC4B,OAAO,EAAGC,KAAK,IAAK;MAAEA,KAAK,CAACL,SAAS,GAAG,IAAI;IAAE,CAAC,CAAC,CACpEG,OAAO,CAAC3B,WAAW,CAAC8B,SAAS,EAAE,CAACD,KAAK,EAAEE,MAAM,KAAK;MACjDF,KAAK,CAACL,SAAS,GAAG,KAAK;MACvBK,KAAK,CAACN,YAAY,GAAGQ,MAAM,CAACC,OAAO,CAACrB,IAAI;IAC1C,CAAC,CAAC,CACDgB,OAAO,CAAC3B,WAAW,CAACiC,QAAQ,EAAE,CAACJ,KAAK,EAAEE,MAAM,KAAK;MAChDF,KAAK,CAACL,SAAS,GAAG,KAAK;MACvBK,KAAK,CAACjB,KAAK,GAAGmB,MAAM,CAACC,OAAO;IAC9B,CAAC,CAAC,CACDL,OAAO,CAACX,SAAS,CAACc,SAAS,EAAE,CAACD,KAAK,EAAEE,MAAM,KAAK;MAC/CF,KAAK,CAACP,MAAM,GAAGS,MAAM,CAACC,OAAO,CAACrB,IAAI,CAACW,MAAM;IAC3C,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,eAAeH,UAAU,CAACe,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
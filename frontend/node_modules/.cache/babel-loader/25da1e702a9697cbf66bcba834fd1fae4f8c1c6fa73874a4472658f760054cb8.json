{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Classic\\\\frontend\\\\src\\\\pages\\\\vendor\\\\EditProduct.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { updateProduct, getVendorProducts } from '../../store/slices/vendorSlice';\nimport { getCategories } from '../../store/slices/categorySlice';\nimport Button from '../../components/ui/Button';\nimport LoadingSpinner from '../../components/ui/LoadingSpinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditProduct = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const {\n    products,\n    isLoading\n  } = useSelector(state => state.vendor);\n  const {\n    categories\n  } = useSelector(state => state.categories);\n  const product = products.find(p => p._id === id);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    price: '',\n    category: '',\n    brand: '',\n    sku: '',\n    stock: '',\n    images: [],\n    sizes: [],\n    status: 'active'\n  });\n  const [imageUrls, setImageUrls] = useState(['']);\n  const [sizeInput, setSizeInput] = useState('');\n  const [errors, setErrors] = useState({});\n  useEffect(() => {\n    dispatch(getCategories());\n    if (products.length === 0) {\n      dispatch(getVendorProducts());\n    }\n  }, [dispatch, products.length]);\n  useEffect(() => {\n    if (product) {\n      var _product$category, _product$images;\n      setFormData({\n        name: product.name || '',\n        description: product.description || '',\n        price: product.price || '',\n        category: ((_product$category = product.category) === null || _product$category === void 0 ? void 0 : _product$category._id) || '',\n        brand: product.brand || '',\n        sku: product.sku || '',\n        stock: product.stock || '',\n        images: product.images || [],\n        sizes: product.sizes || [],\n        status: product.status || 'active'\n      });\n      setImageUrls(((_product$images = product.images) === null || _product$images === void 0 ? void 0 : _product$images.length) > 0 ? product.images : ['']);\n    }\n  }, [product]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n  const handleImageUrlChange = (index, value) => {\n    const newUrls = [...imageUrls];\n    newUrls[index] = value;\n    setImageUrls(newUrls);\n    setFormData(prev => ({\n      ...prev,\n      images: newUrls.filter(url => url.trim() !== '')\n    }));\n  };\n  const addImageUrl = () => {\n    setImageUrls([...imageUrls, '']);\n  };\n  const removeImageUrl = index => {\n    const newUrls = imageUrls.filter((_, i) => i !== index);\n    setImageUrls(newUrls);\n    setFormData(prev => ({\n      ...prev,\n      images: newUrls.filter(url => url.trim() !== '')\n    }));\n  };\n  const handleAddSize = () => {\n    if (sizeInput.trim() && !formData.sizes.includes(sizeInput.trim())) {\n      setFormData(prev => ({\n        ...prev,\n        sizes: [...prev.sizes, sizeInput.trim()]\n      }));\n      setSizeInput('');\n    }\n  };\n  const removeSize = sizeToRemove => {\n    setFormData(prev => ({\n      ...prev,\n      sizes: prev.sizes.filter(size => size !== sizeToRemove)\n    }));\n  };\n  const validateForm = () => {\n    const newErrors = {};\n    if (!formData.name.trim()) newErrors.name = 'Product name is required';\n    if (!formData.description.trim()) newErrors.description = 'Description is required';\n    if (!formData.price || formData.price <= 0) newErrors.price = 'Valid price is required';\n    if (!formData.category) newErrors.category = 'Category is required';\n    if (!formData.stock || formData.stock < 0) newErrors.stock = 'Valid stock quantity is required';\n    if (formData.images.length === 0) newErrors.images = 'At least one image is required';\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (validateForm()) {\n      const productData = {\n        ...formData,\n        price: parseFloat(formData.price),\n        stock: parseInt(formData.stock)\n      };\n      const result = await dispatch(updateProduct({\n        id,\n        productData\n      }));\n      if (result.type === 'vendor/updateProduct/fulfilled') {\n        navigate('/vendor/products');\n      }\n    }\n  };\n  if (isLoading || !product) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n        size: \"lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-900\",\n        children: \"Edit Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mt-2\",\n        children: [\"Update the details for \", product.name, \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"bg-white rounded-lg shadow-md p-6 space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-gray-900 mb-4\",\n          children: \"Basic Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Product Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"name\",\n              value: formData.name,\n              onChange: handleChange,\n              className: `w-full px-3 py-2 border ${errors.name ? 'border-red-300' : 'border-gray-300'} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,\n              placeholder: \"Enter product name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 text-sm text-red-600\",\n              children: errors.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 31\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Category *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"category\",\n              value: formData.category,\n              onChange: handleChange,\n              className: `w-full px-3 py-2 border ${errors.category ? 'border-red-300' : 'border-gray-300'} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select a category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this), categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: category._id,\n                children: category.name\n              }, category._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), errors.category && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 text-sm text-red-600\",\n              children: errors.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 35\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Price *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"price\",\n              value: formData.price,\n              onChange: handleChange,\n              step: \"0.01\",\n              min: \"0\",\n              className: `w-full px-3 py-2 border ${errors.price ? 'border-red-300' : 'border-gray-300'} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,\n              placeholder: \"0.00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this), errors.price && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 text-sm text-red-600\",\n              children: errors.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Stock Quantity *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"stock\",\n              value: formData.stock,\n              onChange: handleChange,\n              min: \"0\",\n              className: `w-full px-3 py-2 border ${errors.stock ? 'border-red-300' : 'border-gray-300'} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,\n              placeholder: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), errors.stock && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 text-sm text-red-600\",\n              children: errors.stock\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Brand\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"brand\",\n              value: formData.brand,\n              onChange: handleChange,\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              placeholder: \"Enter brand name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"SKU\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"sku\",\n              value: formData.sku,\n              onChange: handleChange,\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              placeholder: \"Enter SKU\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"Description *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            value: formData.description,\n            onChange: handleChange,\n            rows: 4,\n            className: `w-full px-3 py-2 border ${errors.description ? 'border-red-300' : 'border-gray-300'} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,\n            placeholder: \"Enter product description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), errors.description && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-sm text-red-600\",\n            children: errors.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 36\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-gray-900 mb-4\",\n          children: \"Product Images\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: [imageUrls.map((url, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"url\",\n              value: url,\n              onChange: e => handleImageUrlChange(index, e.target.value),\n              className: \"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              placeholder: \"Enter image URL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this), imageUrls.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => removeImageUrl(index),\n              className: \"text-red-600 hover:text-red-800\",\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: addImageUrl,\n            className: \"text-blue-600 hover:text-blue-800 text-sm\",\n            children: \"+ Add Another Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this), errors.images && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-sm text-red-600\",\n            children: errors.images\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 31\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-gray-900 mb-4\",\n          children: \"Sizes (Optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: sizeInput,\n            onChange: e => setSizeInput(e.target.value),\n            className: \"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n            placeholder: \"Enter size (e.g., S, M, L, XL)\",\n            onKeyPress: e => e.key === 'Enter' && (e.preventDefault(), handleAddSize())\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"button\",\n            onClick: handleAddSize,\n            variant: \"outline\",\n            children: \"Add Size\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), formData.sizes.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2\",\n          children: formData.sizes.map(size => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800\",\n            children: [size, /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => removeSize(size),\n              className: \"ml-2 text-blue-600 hover:text-blue-800\",\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 19\n            }, this)]\n          }, size, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-2\",\n          children: \"Status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"status\",\n          value: formData.status,\n          onChange: handleChange,\n          className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"active\",\n            children: \"Active\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"inactive\",\n            children: \"Inactive\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"button\",\n          variant: \"outline\",\n          onClick: () => navigate('/vendor/products'),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          loading: isLoading,\n          children: \"Update Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 5\n  }, this);\n};\n_s(EditProduct, \"qnutQGuo1SwBgTNZ+3NEDs3Bs7Q=\", false, function () {\n  return [useParams, useDispatch, useNavigate, useSelector, useSelector];\n});\n_c = EditProduct;\nexport default EditProduct;\nvar _c;\n$RefreshReg$(_c, \"EditProduct\");","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","useNavigate","useParams","updateProduct","getVendorProducts","getCategories","Button","LoadingSpinner","jsxDEV","_jsxDEV","EditProduct","_s","id","dispatch","navigate","products","isLoading","state","vendor","categories","product","find","p","_id","formData","setFormData","name","description","price","category","brand","sku","stock","images","sizes","status","imageUrls","setImageUrls","sizeInput","setSizeInput","errors","setErrors","length","_product$category","_product$images","handleChange","e","value","target","prev","handleImageUrlChange","index","newUrls","filter","url","trim","addImageUrl","removeImageUrl","_","i","handleAddSize","includes","removeSize","sizeToRemove","size","validateForm","newErrors","Object","keys","handleSubmit","preventDefault","productData","parseFloat","parseInt","result","type","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","placeholder","map","step","min","rows","onClick","onKeyPress","key","variant","loading","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/Classic/frontend/src/pages/vendor/EditProduct.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { updateProduct, getVendorProducts } from '../../store/slices/vendorSlice';\nimport { getCategories } from '../../store/slices/categorySlice';\nimport Button from '../../components/ui/Button';\nimport LoadingSpinner from '../../components/ui/LoadingSpinner';\n\nconst EditProduct = () => {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { products, isLoading } = useSelector((state) => state.vendor);\n  const { categories } = useSelector((state) => state.categories);\n\n  const product = products.find(p => p._id === id);\n\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    price: '',\n    category: '',\n    brand: '',\n    sku: '',\n    stock: '',\n    images: [],\n    sizes: [],\n    status: 'active'\n  });\n\n  const [imageUrls, setImageUrls] = useState(['']);\n  const [sizeInput, setSizeInput] = useState('');\n  const [errors, setErrors] = useState({});\n\n  useEffect(() => {\n    dispatch(getCategories());\n    if (products.length === 0) {\n      dispatch(getVendorProducts());\n    }\n  }, [dispatch, products.length]);\n\n  useEffect(() => {\n    if (product) {\n      setFormData({\n        name: product.name || '',\n        description: product.description || '',\n        price: product.price || '',\n        category: product.category?._id || '',\n        brand: product.brand || '',\n        sku: product.sku || '',\n        stock: product.stock || '',\n        images: product.images || [],\n        sizes: product.sizes || [],\n        status: product.status || 'active'\n      });\n      setImageUrls(product.images?.length > 0 ? product.images : ['']);\n    }\n  }, [product]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  const handleImageUrlChange = (index, value) => {\n    const newUrls = [...imageUrls];\n    newUrls[index] = value;\n    setImageUrls(newUrls);\n    setFormData(prev => ({\n      ...prev,\n      images: newUrls.filter(url => url.trim() !== '')\n    }));\n  };\n\n  const addImageUrl = () => {\n    setImageUrls([...imageUrls, '']);\n  };\n\n  const removeImageUrl = (index) => {\n    const newUrls = imageUrls.filter((_, i) => i !== index);\n    setImageUrls(newUrls);\n    setFormData(prev => ({\n      ...prev,\n      images: newUrls.filter(url => url.trim() !== '')\n    }));\n  };\n\n  const handleAddSize = () => {\n    if (sizeInput.trim() && !formData.sizes.includes(sizeInput.trim())) {\n      setFormData(prev => ({\n        ...prev,\n        sizes: [...prev.sizes, sizeInput.trim()]\n      }));\n      setSizeInput('');\n    }\n  };\n\n  const removeSize = (sizeToRemove) => {\n    setFormData(prev => ({\n      ...prev,\n      sizes: prev.sizes.filter(size => size !== sizeToRemove)\n    }));\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n\n    if (!formData.name.trim()) newErrors.name = 'Product name is required';\n    if (!formData.description.trim()) newErrors.description = 'Description is required';\n    if (!formData.price || formData.price <= 0) newErrors.price = 'Valid price is required';\n    if (!formData.category) newErrors.category = 'Category is required';\n    if (!formData.stock || formData.stock < 0) newErrors.stock = 'Valid stock quantity is required';\n    if (formData.images.length === 0) newErrors.images = 'At least one image is required';\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (validateForm()) {\n      const productData = {\n        ...formData,\n        price: parseFloat(formData.price),\n        stock: parseInt(formData.stock)\n      };\n      \n      const result = await dispatch(updateProduct({ id, productData }));\n      if (result.type === 'vendor/updateProduct/fulfilled') {\n        navigate('/vendor/products');\n      }\n    }\n  };\n\n  if (isLoading || !product) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <LoadingSpinner size=\"lg\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-gray-900\">Edit Product</h1>\n        <p className=\"text-gray-600 mt-2\">Update the details for {product.name}.</p>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"bg-white rounded-lg shadow-md p-6 space-y-6\">\n        {/* Basic Information */}\n        <div>\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Basic Information</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Product Name *\n              </label>\n              <input\n                type=\"text\"\n                name=\"name\"\n                value={formData.name}\n                onChange={handleChange}\n                className={`w-full px-3 py-2 border ${errors.name ? 'border-red-300' : 'border-gray-300'} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}\n                placeholder=\"Enter product name\"\n              />\n              {errors.name && <p className=\"mt-1 text-sm text-red-600\">{errors.name}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Category *\n              </label>\n              <select\n                name=\"category\"\n                value={formData.category}\n                onChange={handleChange}\n                className={`w-full px-3 py-2 border ${errors.category ? 'border-red-300' : 'border-gray-300'} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}\n              >\n                <option value=\"\">Select a category</option>\n                {categories.map((category) => (\n                  <option key={category._id} value={category._id}>\n                    {category.name}\n                  </option>\n                ))}\n              </select>\n              {errors.category && <p className=\"mt-1 text-sm text-red-600\">{errors.category}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Price *\n              </label>\n              <input\n                type=\"number\"\n                name=\"price\"\n                value={formData.price}\n                onChange={handleChange}\n                step=\"0.01\"\n                min=\"0\"\n                className={`w-full px-3 py-2 border ${errors.price ? 'border-red-300' : 'border-gray-300'} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}\n                placeholder=\"0.00\"\n              />\n              {errors.price && <p className=\"mt-1 text-sm text-red-600\">{errors.price}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Stock Quantity *\n              </label>\n              <input\n                type=\"number\"\n                name=\"stock\"\n                value={formData.stock}\n                onChange={handleChange}\n                min=\"0\"\n                className={`w-full px-3 py-2 border ${errors.stock ? 'border-red-300' : 'border-gray-300'} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}\n                placeholder=\"0\"\n              />\n              {errors.stock && <p className=\"mt-1 text-sm text-red-600\">{errors.stock}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Brand\n              </label>\n              <input\n                type=\"text\"\n                name=\"brand\"\n                value={formData.brand}\n                onChange={handleChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Enter brand name\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                SKU\n              </label>\n              <input\n                type=\"text\"\n                name=\"sku\"\n                value={formData.sku}\n                onChange={handleChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Enter SKU\"\n              />\n            </div>\n          </div>\n\n          <div className=\"mt-6\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Description *\n            </label>\n            <textarea\n              name=\"description\"\n              value={formData.description}\n              onChange={handleChange}\n              rows={4}\n              className={`w-full px-3 py-2 border ${errors.description ? 'border-red-300' : 'border-gray-300'} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}\n              placeholder=\"Enter product description\"\n            />\n            {errors.description && <p className=\"mt-1 text-sm text-red-600\">{errors.description}</p>}\n          </div>\n        </div>\n\n        {/* Images */}\n        <div>\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Product Images</h2>\n          <div className=\"space-y-3\">\n            {imageUrls.map((url, index) => (\n              <div key={index} className=\"flex items-center space-x-3\">\n                <input\n                  type=\"url\"\n                  value={url}\n                  onChange={(e) => handleImageUrlChange(index, e.target.value)}\n                  className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  placeholder=\"Enter image URL\"\n                />\n                {imageUrls.length > 1 && (\n                  <button\n                    type=\"button\"\n                    onClick={() => removeImageUrl(index)}\n                    className=\"text-red-600 hover:text-red-800\"\n                  >\n                    Remove\n                  </button>\n                )}\n              </div>\n            ))}\n            <button\n              type=\"button\"\n              onClick={addImageUrl}\n              className=\"text-blue-600 hover:text-blue-800 text-sm\"\n            >\n              + Add Another Image\n            </button>\n            {errors.images && <p className=\"mt-1 text-sm text-red-600\">{errors.images}</p>}\n          </div>\n        </div>\n\n        {/* Sizes */}\n        <div>\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Sizes (Optional)</h2>\n          <div className=\"flex items-center space-x-3 mb-3\">\n            <input\n              type=\"text\"\n              value={sizeInput}\n              onChange={(e) => setSizeInput(e.target.value)}\n              className=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Enter size (e.g., S, M, L, XL)\"\n              onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), handleAddSize())}\n            />\n            <Button type=\"button\" onClick={handleAddSize} variant=\"outline\">\n              Add Size\n            </Button>\n          </div>\n          {formData.sizes.length > 0 && (\n            <div className=\"flex flex-wrap gap-2\">\n              {formData.sizes.map((size) => (\n                <span\n                  key={size}\n                  className=\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800\"\n                >\n                  {size}\n                  <button\n                    type=\"button\"\n                    onClick={() => removeSize(size)}\n                    className=\"ml-2 text-blue-600 hover:text-blue-800\"\n                  >\n                    ×\n                  </button>\n                </span>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Status */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Status\n          </label>\n          <select\n            name=\"status\"\n            value={formData.status}\n            onChange={handleChange}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n          </select>\n        </div>\n\n        {/* Submit Button */}\n        <div className=\"flex justify-end space-x-4\">\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            onClick={() => navigate('/vendor/products')}\n          >\n            Cancel\n          </Button>\n          <Button type=\"submit\" loading={isLoading}>\n            Update Product\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default EditProduct;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}